const gnbWrap=document.querySelector(".gnb-wrap");const floatingDownload=document.querySelector(".float-download");let billboard;let detailContent;let loader;let isGnbOpenForce=false;let prevPageY;let scrollDirection;let isRefresh=false;document.addEventListener("DOMContentLoaded",()=>{addEvent();GNB.init();Floating.init();Section_Desc.init();Section_TargetHow();Section_Step.init();Section_List();Section_Supporters();FormSubmit();billboard=new Billboard({elem:".billboard",imgElem:".billboard-img",imgWrap:".billboard-img-wrap",imgScale:1.1,overlayTime:1,imgTime:4});let o=0;let s=imagesLoaded(".billboard",{background:".billboard-img"});s.on("progress",function(e,t){let i=t.isLoaded?"loaded":"broken";console.log("image is "+i+" for "+t.img.src);o++;if(o===s.images.length){console.log("billboard images loaded");gsap.delayedCall(1,a)}});function a(){Loading.play();setTimeout(()=>{document.body.classList.add("loaded");billboard.play()},1e3)}detailContent=new ShowDetail;detailContent.init()});window.addEventListener("load",()=>{if(window.pageYOffset>0){setTimeout(()=>{window.scrollTo(0,0);billboard.dim(0)},0)}Section_Apply.init();Section_LYB.init();Section_Next.init()});function addEvent(){floatingDownload.addEventListener("mouseenter",Floating.floatingDownload_Fn,false);floatingDownload.addEventListener("mouseleave",Floating.floatingDownload_Fn,false);window.addEventListener("resize",()=>{ScrollTrigger.refresh()});window.addEventListener("scroll",scroll_Fn,false);document.querySelector(".txt_email-underline").addEventListener("click",()=>e());document.querySelector(".map_txt-item_t3").addEventListener("click",()=>e());const e=()=>document.location.href="mailto:nextfashion@musinsapartners.com";floatingDownload.addEventListener("click",t,false);document.querySelector(".btn_download").addEventListener("click",t,false);function t(e){e.preventDefault();window.open("about:blank").location.href=document.querySelector("#DonwloadURL").getAttribute("href")}const s=[".section-apply",".section-lyb","#SectionBenefit","#SectionWinner","#SectionFAQ","#SectionContact","#SectionSupporters"];document.querySelectorAll(".navi_item").forEach((e,o)=>{e.addEventListener("click",e=>{e.preventDefault();isGnbOpenForce=true;if(gnbWrap.getAttribute("data-state")==="hide")GNB.gnbShowHide_Fn("show");let t=100;if(o===3||o===6){t=0}else if(o===2){t=-80}gsap.killTweensOf(window);gsap.to(window,1.2,{scrollTo:{y:s[o],offsetY:t},ease:"Quart.easeInOut",onComplete:()=>{gsap.delayedCall(.2,i)}});function i(){if(gsap.isTweening(window))return;isGnbOpenForce=false}})});document.querySelector(".logo-wrap").addEventListener("click",e=>{document.querySelector("#LoadWrap").style.display="block";Loading.overlay_play();isRefresh=true});document.querySelectorAll(".winner-link").forEach((e,t)=>{e.addEventListener("click",showDetailPage_Fn,false)})}const Loading=function(e){const t=document.querySelector("#LoadWrap");const i=t.querySelector(".load-text.big div");const o=t.querySelector(".load-text.small div");const s=t.querySelector(".overlay_path");function a(){gsap.set(i,{y:75});gsap.set(i.querySelectorAll("span"),{y:-150});gsap.set(i.parentElement,{opacity:1})}a();function n(){const e=o.querySelectorAll("span");e.forEach(e=>{e.classList.remove("load");e.style.animation="ani"});gsap.to(o,.6,{y:-50,ease:"Quint.easeOut"});gsap.to(e,.6,{y:100,ease:"Quint.easeOut"});gsap.to(i,.6,{delay:.1,y:0,ease:"Quint.easeOut"});gsap.to(i.querySelectorAll("span"),.6,{delay:.1,y:0,ease:"Quint.easeOut"});gsap.delayedCall(.3,l)}function l(){gsap.timeline().set(s,{attr:{d:"M 0 100 V 100 Q 50 100 100 100 V 100 z"}}).to(s,.6,{ease:"Quint.easeIn",attr:{d:"M 0 100 V 50 Q 50 0 100 50 V 100 z"}},0).to(s,.3,{ease:"Cubic.easeOut",attr:{d:"M 0 100 V 0 Q 50 0 100 0 V 100 z"},onComplete:()=>{t.style.backgroundColor="rgba(0,0,0,0)";t.querySelectorAll("div").forEach(e=>e.remove());if(window.pageYOffset>0){window.scrollTo(0,0);setTimeout(()=>{isRefresh=false},100)}}}).set(s,{attr:{d:"M 0 0 V 100 Q 50 100 100 100 V 0 z"}}).to(s,.3,{ease:"Cubic.easeIn",attr:{d:"M 0 0 V 50 Q 50 0 100 50 V 0 z"}}).to(s,.8,{ease:"Quint.easeOut",attr:{d:"M 0 0 V 0 Q 50 0 100 0 V 0 z"},onComplete:()=>{t.style.display="none"}})}e={init:a,play:n,overlay_play:l};return e}({});const GNB=function(e){function t(e){if(document.querySelector(".winner_page"))return;if(document.body.style.position==="fixed")return;const t=e==="show"?0:-gsap.getProperty(".gnb-wrap","height");document.querySelector(".gnb-wrap").setAttribute("data-state",e);gsap.to(".gnb-wrap .navi",.6,{ease:"Quint.easeOut",y:t})}function i(e){const t=gnbWrap.classList.contains("black");if(e&&!t)gnbWrap.classList.add("black");else if(!e&&t)gnbWrap.classList.remove("black")}const o={rootMargin:"0px 0px -95% 0px"};const s=new IntersectionObserver((e,t)=>{e[0].isIntersecting?i(true):i(false)},o);const a={rootMargin:"0px 0px -160px 0px"};const n=new IntersectionObserver((e,t)=>{isGnbOpenForce=e[0].isIntersecting},a);function l(){s.observe(document.querySelector(".section-supporters"));n.observe(document.querySelector("footer"))}e={init:l,gnbShowHide_Fn:t,gnbChangeColor_Fn:i};return e}({});const Floating=function(e){function t(e){const t=floatingDownload.classList.contains("mode-fill");if(e&&!t)floatingDownload.classList.add("mode-fill");else if(!e&&t)floatingDownload.classList.remove("mode-fill")}const i={rootMargin:"0px 0px -85px 0px"};const o=new IntersectionObserver((e,t)=>{if(e[0].isIntersecting){floatingDownload.setAttribute("data-mode","fill");gsap.set(".float-download .ic-download_arrow, .ic-download_floor",{stroke:"black"});gsap.set(".float-download span",{color:"black"});gsap.set(".float-download .ic-download",{backgroundColor:"#BDFF00"})}else{floatingDownload.setAttribute("data-mode","stroke");gsap.set(".float-download .ic-download_arrow, .float-download .ic-download_floor",{stroke:"#BDFF00"});gsap.set(".float-download span",{color:"#BDFF00"});gsap.set(".float-download .ic-download",{backgroundColor:"rgba(0,0,0,0)"})}},i);function s(e){const t=document.querySelector(".float-download .ic-download_arrow");const i=document.querySelector(".float-download .ic-download_floor");if(e.type==="mouseenter"){let e=gsap.timeline();e.to(t,.25,{ease:BezierEasing(.33,0,.67,1),y:25,onComplete:()=>gsap.set(t,{y:-25})});e.to(i,.2,{ease:BezierEasing(.33,0,.67,1),transformOrigin:"center",scaleX:0},"=-0.25");e.to(i,.25,{ease:"Quint.easeOut",scaleX:1},"=+0.1");e.to(t,.3,{ease:"Quint.easeOut",y:0},"=-0.2");if(floatingDownload.getAttribute("data-mode")!="stroke")return;gsap.to([t,i],.2,{stroke:"black"});gsap.to(".float-download span",.2,{color:"black"});gsap.to(".float-download .ic-download",.2,{backgroundColor:"#BDFF00"})}else if(e.type==="mouseleave"){if(floatingDownload.getAttribute("data-mode")!="stroke")return;gsap.to([t,i],.2,{stroke:"#BDFF00"});gsap.to(".float-download span",.2,{color:"#BDFF00"});gsap.to(".float-download .ic-download",.2,{backgroundColor:"rgba(0,0,0,0)"})}}function a(){o.observe(document.querySelector(".section-supporters"))}e={init:a,floatingDownload_Fn:s,floatingColor_Fn:t};return e}({});function scroll_Fn(e){if(window.pageYOffset<=window.innerHeight)billboard.dim(window.pageYOffset);else{gsap.to(".billboard",.1,{opacity:0})}if(prevPageY>window.pageYOffset)scrollDirection="up";else if(prevPageY<window.pageYOffset)scrollDirection="down";prevPageY=window.pageYOffset;if(!isGnbOpenForce){if(window.pageYOffset>500&&scrollDirection=="down"){if(gnbWrap.getAttribute("data-state")==="show")GNB.gnbShowHide_Fn("hide")}else{if(gnbWrap.getAttribute("data-state")==="hide")GNB.gnbShowHide_Fn("show")}}else{if(gnbWrap.getAttribute("data-state")==="hide")GNB.gnbShowHide_Fn("show")}}class Billboard{constructor(e){if(e.imgElem===undefined)return;const t={imgScale:1.1,overlayTime:1,imgTime:4};this.opts={...t,...e};this.imgArr=document.querySelectorAll(e.imgElem);this.imgWrapArr=document.querySelectorAll(e.imgWrap);this.index=0;this._set()}_set(){gsap.killTweensOf(this.imgArr);gsap.killTweensOf(this.imgWrapArr);gsap.set(this.imgArr,{scale:this.opts.imgScale});gsap.set(this.imgWrapArr,{opacity:0,zIndex:1});this.gsapArr=[];this.imgArr.forEach((e,t)=>{const i=gsap.timeline({paused:true});i.fromTo(this.imgWrapArr[t],{opacity:0},{opacity:1,duration:this.opts.overlayTime,ease:"none",onComplete:()=>{gsap.delayedCall(this.opts.imgTime-this.opts.overlayTime*2,this.nextPlay.bind(this))}});i.fromTo(e,{scale:this.opts.imgScale},{duration:this.opts.imgTime,scale:1,ease:"none",onComplete:()=>{this.imgWrapArr[t].style.opacity=0}},0);this.gsapArr.push(i)})}nextPlay(){this.index=(this.index+1)%this.imgArr.length;this.imgWrapArr[this.index].style.zIndex=3;this.imgWrapArr.forEach((e,t)=>{if(this.index!=t)this.imgWrapArr[t].style.zIndex=1});this.gsapArr[this.index].restart()}play(){this.gsapArr[this.index].play()}stop(){}dim(e){const t=window.innerHeight;let i=gsap.utils.mapRange(t*.1,t*.75,1,0,e.toFixed(1)).toFixed(2);if(i>1)i=1;else if(i<0)i=0;gsap.to(this.opts.elem,0,{opacity:i})}isTween(){return gsap.isTweening(this.imgArr)}}class ClipMaskImg{constructor(e){const t={maskTime:1,maskEase:BezierEasing(.7,0,.1,1),imgTime:1.4,imgDelayTime:0,imgEase:BezierEasing(0,0,0,1)};this.opts={...t,...e};this.maskTime=this.opts.maskTime;this.maskEase=this.opts.maskEase;this.imgTime=this.opts.imgTime;this.imgDelayTime=this.opts.imgDelayTime;this.imgEase=this.opts.imgEase;this.wordElem=this.opts.wordElem}_set(){let e;if(this.opts.clipPosition==="left"){e="polygon(0% 0%, 0% 0%, 0% 100%, 0% 100%)"}else if(this.opts.clipPosition==="center"){e="polygon(50% 50%, 50% 50%, 50% 50%, 50% 50%)"}gsap.set(this.opts.maskElem,{clipPath:e});gsap.set(this.opts.imgElem,{scale:2});if(this.wordElem===undefined)return;const o=this.opts.charGap;this.split=new SplitText(this.wordElem,{type:"words, chars",position:"absolute"});const s=Math.ceil(this.split.chars.length/2);this.split.chars.forEach((t,i)=>{if(this.split.chars.length%2!=0){gsap.set(t,{x:(i-(s-1))*o})}else{let e=i<s?i-s:i-(s-1);gsap.set(t,{x:e*o})}});gsap.set(this.split.words,{scale:2})}play(){gsap.to(this.opts.maskElem,this.maskTime,{ease:this.maskEase,clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)"});gsap.to(this.opts.imgElem,this.imgTime,{delay:this.imgDelayTime,ease:this.imgEase,scale:1});if(this.wordElem===undefined)return;gsap.to(this.split.words,this.imgTime,{delay:this.imgDelayTime,scale:1,ease:this.imgEase});gsap.to(this.split.chars,this.imgTime,{delay:this.imgDelayTime,x:0,ease:this.imgEase})}}class LetterSpacing{constructor(e){if(e.wordElem===undefined)return;const t={easing:BezierEasing(.6,0,.1,1),time:1.3,delayTime:0,charGap:450,charScale:1,wordScale:2};this.opts={...t,...e};this.wordElem=this.opts.wordElem}_set(){this.split=new SplitText(this.wordElem,{type:"words, chars",position:"absolute"});this.split.chars.forEach((e,t)=>{if(t<4){gsap.set(e,{x:this.opts.charGap*(t-2),scale:this.opts.charScale,opacity:0})}else{gsap.set(e,{x:this.opts.charGap*(t-2-4),scale:this.opts.charScale,opacity:0})}});gsap.set(".next-fashtion-txt",{scale:this.opts.wordScale})}play(){gsap.to(".next-fashtion-txt",this.opts.time,{scale:1,ease:this.opts.easing});gsap.to(this.split.chars,this.opts.time,{delay:this.opts.delayTime,scale:1,x:0,ease:this.opts.easing});gsap.to(this.split.chars,this.opts.time*.7,{delay:this.opts.delayTime,opacity:1})}}const Section_Desc=function(e){document.querySelector(".desc_info-txt").innerHTML+=`<div id="textMasking"></div>`;const t=lottie.loadAnimation({container:document.querySelector("#textMasking"),animationData:path_textMastking,autoplay:false,loop:false});const i=gsap.timeline({paused:true});let o;function s(){o=new ClipMaskImg({maskElem:".desc_img-mask",imgElem:".desc_img",clipPosition:"left",imgDelayTime:.3});ScrollTrigger.create({trigger:".desc_img-wrap",start:"top 95%",onEnter:()=>{o.play();gsap.to(".section-desc .desc_txt > div",1,{delay:.5,y:"0%",stagger:.1,ease:"Quint.easeOut"})},onLeaveBack:()=>{if(isRefresh)a()}});i.to(".section-desc .desc_info-txt_p",1,{y:0,stagger:.1,ease:"Quint.easeOut"});i.to(".section-desc .desc_info-txt_p",.5,{autoAlpha:1,stagger:.1,ease:"none"},0);ScrollTrigger.create({trigger:".desc_info-wrap",start:"top 95%",onEnter:()=>{i.play();setTimeout(()=>{t.play();setTimeout(()=>{document.querySelector(".section-desc .desc_info-txt_strong").style.color="#BDFF00"},500)},600)}});a()}function a(){o._set();gsap.set(".section-desc .desc_txt > div",{y:"90%"});gsap.set(".section-desc .desc_info-txt_p",{y:60,autoAlpha:0});document.querySelector(".section-desc .desc_info-txt_strong").style.color="white";t.goToAndStop(1,false);i.pause(0)}e.init=s;return e}({});const Section_Apply=function(e){let t;function i(){t=new ClipMaskImg({maskElem:".apply-mask",imgElem:".apply-img",clipPosition:"center",maskTime:1,maskEase:BezierEasing(.5,0,0,1),imgTime:1.7,imgEase:BezierEasing(.6,0,.1,1),wordElem:".section-apply .apply-txt",charGap:450});o();ScrollTrigger.create({trigger:".section-apply",start:`top 75%`,onEnter:()=>{t.play();gsap.to(".apply-wrap",1.5,{y:0,ease:BezierEasing(.4,0,.2,1)})},onLeaveBack:()=>{if(isRefresh)o()}})}function o(){gsap.set(".apply-wrap",{y:200});t._set()}e.init=i;return e}({});const Section_TargetHow=function(){gsap.set([".section-target .info-txt_wrap",".section-how .info-txt_wrap",".section-benefit .info-txt_wrap",".section-winner .info-txt_wrap",".section-step .info-txt_wrap"],{y:100,opacity:0});function e(e){const t=gsap.timeline().to(`${e} .info-txt_wrap`,1.5,{y:0,opacity:1,ease:"Quart.easeOut"});let i;let o;if(e===".section-benefit"||e===".section-winner"){i=`${e} .container-1380`;o=`top bottom`}else if(e===".section-step"){i=`${e} .container-1380`;o=`top 75%`}else{i=e;o=`top 75%`}ScrollTrigger.create({animation:t,trigger:i,start:o,onLeaveBack:()=>{if(isRefresh)t.pause(0)}})}e(".section-target");e(".section-how");e(".section-step");e(".section-benefit");e(".section-winner")};const Section_LYB=function(e){let t;let i;let o;function s(){t=new ClipMaskImg({maskElem:".lyb_launch-mask",imgElem:".ybd_your-img",clipPosition:"left",maskTime:1,maskEase:BezierEasing(.6,0,.1,1),imgTime:1.5,imgEase:BezierEasing(.5,0,0,1),wordElem:".lyb_launch .apply-txt",charGap:450});i=new ClipMaskImg({maskElem:".lyb_your",imgElem:".ybd_brand-img",clipPosition:"left",maskTime:1,maskEase:BezierEasing(.6,0,.1,1),imgTime:1.5,imgEase:BezierEasing(.5,0,0,1),wordElem:".lyb_your .apply-txt",charGap:450});o=new ClipMaskImg({maskElem:".lyb_brand",imgElem:".lyb_brand-img",clipPosition:"left",maskTime:1,maskEase:BezierEasing(.6,0,.1,1),imgTime:1.5,imgEase:BezierEasing(.5,0,0,1),wordElem:".lyb_brand .apply-txt",charGap:450});a();function e(){t.play();setTimeout(()=>{i.play()},200);setTimeout(()=>{o.play()},300)}ScrollTrigger.create({trigger:".section-lyb",start:`top 85%`,onEnter:()=>{e()},onLeaveBack:()=>{if(isRefresh)a()}})}function a(){t._set();i._set();o._set()}e.init=s;return e}({});const Section_Step=function(e){const t=document.querySelectorAll("#step .step_block_color");const i=document.querySelectorAll("#stepTxt .step_block_color");function o(){ScrollTrigger.create({trigger:"#step",start:`top 85%`,onEnter:()=>{gsap.to(t,.75,{stagger:.05,clipPath:`circle(50% at 50% 50%)`,ease:BezierEasing(.6,0,.1,1)});gsap.to(t,1,{stagger:.05,y:0,ease:BezierEasing(.6,0,.1,1)});gsap.to(i,.75,{stagger:.05,clipPath:`circle(50% at 50% 50%)`,ease:BezierEasing(.6,0,.1,1)});gsap.to(i,1,{stagger:.05,y:0,ease:BezierEasing(.6,0,.1,1)})},onLeaveBack:()=>{if(isRefresh)s()}});s()}function s(){t.forEach((e,t)=>{gsap.set(e,{clipPath:`circle(0% at 50% 50%)`,y:150});gsap.set(i[t],{clipPath:`circle(0% at 50% 50%)`,y:150})})}e.init=o;return e}({});const Section_Next=function(e){let t;function i(){gsap.set(".next-fashion",{y:"-50%"});const e=gsap.to(".next-fashion",1,{y:"30%"});ScrollTrigger.create({trigger:".section-next-fashion",animation:e,scrub:true});t=new LetterSpacing({wordElem:".next-fashtion-txt",wordScale:1.5,charScale:1});o();ScrollTrigger.create({id:"textMotion",start:"top 55%",trigger:".section-next-fashion",onEnter:()=>t.play(),onLeaveBack:()=>{if(isRefresh)t._set()}})}function o(){t._set()}e.init=i;return e}({});const Section_List=function(){let i=document.querySelectorAll(".winner-mask");let o=document.querySelectorAll(".winner-link");o.forEach((e,t)=>{gsap.set(e,{autoAlpha:0})});function t(e){gsap.set(o[e].querySelector(".winner-img"),{scale:1.5});let t=gsap.timeline();t.to(i[e],.5,{ease:"Quint.easeOut",width:"100%",onComplete:()=>{gsap.set(o[e],{autoAlpha:1})}});t.to(i[e],.5,{ease:BezierEasing(.7,0,0,1),scaleX:0,transformOrigin:"right"});t.to(o[e].querySelector(".winner-img"),.5,{ease:BezierEasing(.6,0,.1,1),scale:1,onComplete:()=>{gsap.set(i,{width:"0%",scale:1})}},"=-0.5")}let s=Math.ceil(document.querySelectorAll(".cms-winner_item").length/3);for(let e=0;e<s;e++){ScrollTrigger.create({trigger:i[e*s],start:`center 95%`,onEnter:()=>{t(e*s);if(i[e*s+1])setTimeout(()=>{t(e*s+1)},100);if(i[e*s+2])setTimeout(()=>{t(e*s+2)},200)},onLeaveBack:e=>e.disable()})}};const Section_Supporters=function(){ScrollTrigger.create({id:"sticky",trigger:".support-txt_wrap",start:"top 100",end:()=>`+=${gsap.getProperty(".support-list","height")-80-gsap.getProperty(".support-txt_wrap","height")} 100 `,scrub:true,pin:true})};function showDetailPage_Fn(e){e.preventDefault();const t="winner/";detailContent.bodyBlock(true,window.pageYOffset);detailContent.fetchPage(t)}class ShowDetail{constructor(e){const t={};this.opts={...t,...e};this.bodyScrollY;this.pageElem;this.dimElem;this.contenteElem;this.galleryFocusIndex}init(){loader=document.createElement("div");loader.classList.add("loader-wrapper");loader.innerHTML=`<div class="loader"></div>`;document.body.appendChild(loader)}fetchPage(e){loader.classList.add("show");const t=fetch(e).then(e=>{return e.text()}).then(e=>{const t=new DOMParser;const i=this.doc=t.parseFromString(e,"text/html");this.pageElem=i.querySelector(".winner_page");this.dimElem=i.querySelector(".winner_page .winner_page-dim");this.closeElem=i.querySelector(".winner_page .ic_close");this.panElem=i.querySelectorAll(".winner_page .winner_pan");this.galleryFocusIndex=0;gsap.set([this.dimElem,this.closeElem],{opacity:0});gsap.set(this.panElem,{clipPath:"polygon(0% 50%, 100% 50%, 100% 50%, 0% 50%)"});document.body.appendChild(this.pageElem);this.loadingPlay();this.addEvent()})}addEvent(){this.closeElem.addEventListener("click",this.close.bind(this),false);this.dimElem.addEventListener("click",this.close.bind(this),false);if(this.pageElem.querySelector(".btn_g-l")){this.arrL=this.pageElem.querySelector(".btn_g-l");this.arrR=this.pageElem.querySelector(".btn_g-r");this.imgTotalNum=this.pageElem.querySelectorAll(".winner_g-item").length;if(this.imgTotalNum>4){this.arrL.addEventListener("click",this.arr_Fn.bind(this),false);this.arrR.addEventListener("click",this.arr_Fn.bind(this),false);gsap.set(this.arrL,{autoAlpha:0})}else{this.pageElem.querySelector(".winner_g-arr").remove()}}}removeEvent(){this.dimElem.removeEventListener("click",this.close.bind(this),false);this.closeElem.removeEventListener("click",this.close.bind(this),false)}loadingPlay(){gsap.to(this.dimElem,.2,{opacity:1,ease:"quint.easeOut"});this.pageElem.querySelector(".winner_container").style.pointerEvents="none";const s=imagesLoaded(this.pageElem,{background:".winner_g-thumb"});let a=0;s.on("always",()=>{s.images.forEach((e,t)=>{let i=s.images[t];let o=i.isLoaded?"loaded":"broken";console.log("image is "+o+" for "+i.img.src);a=t/(s.images.length-1)*100;gsap.set(this.panElem,{clipPath:`polygon(${50-a/2}% 50%, ${50+a/2}% 50%, ${50+a/2}% 50.05%, ${50-a/2}% 50.05%)`});if(a===100)this.open()})})}bodyBlock(e,t){if(e){this.bodyScrollY=t;document.body.style.overflow="hidden";document.body.style.position="fixed";document.body.style.top=`-${t}px`;document.body.style.width="100%"}else{document.body.style.removeProperty("overflow");document.body.style.removeProperty("position");document.body.style.removeProperty("top");window.scrollTo(0,this.bodyScrollY)}}open(){loader.classList.remove("show");this.pageElem.querySelector(".winner_container").style.pointerEvents="auto";gsap.to(this.closeElem,.2,{opacity:1,ease:"quint.easeOut"});gsap.to(this.panElem,.6,{clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",ease:BezierEasing(.8,0,0,1)})}close(e){loader.classList.remove("show");this.bodyBlock(false);gsap.to(this.pageElem,.2,{autoAlpha:0,ease:"quint.easeOut",onComplete:()=>{document.body.removeChild(this.pageElem);this.removeEvent()}})}arr_Fn(e){e.currentTarget===this.arrR?this.galleryFocusIndex++:this.galleryFocusIndex--;if(this.galleryFocusIndex<0)this.galleryFocusIndex=0;if(this.galleryFocusIndex>this.imgTotalNum-4)this.galleryFocusIndex=this.imgTotalNum-4;const t=this.galleryFocusIndex==this.imgTotalNum-4?0:1;const i=this.galleryFocusIndex==0?0:1;gsap.set(this.arrR,{autoAlpha:t});gsap.set(this.arrL,{autoAlpha:i});gsap.to(".winner_g-list",.5,{x:-this.galleryFocusIndex*(260+3),ease:"Quint.easeOut"})}}const FormSubmit=function(){let i,o,s=false;let t;gsap.set(".contact_submit_finish .inner",{opacity:0});gsap.set([".msg_success",".msg_success > *"],{height:0,fontSize:0,padding:0});const a=lottie.loadAnimation({container:document.querySelector(".contact_submit_finish .inner"),renderer:"svg",loop:false,autoplay:false,animationData:path_plane});function n(){let e;let t;if(s){e=0;t=i.h}else{e=i.h-o.h;t=o.h}gsap.set(".contact_submit_finish",{width:i.w,height:i.h});gsap.set(".contact_submit_finish .inner",{width:o.w,height:t,y:e})}function e(){i={w:gsap.getProperty("#formContact","width"),h:gsap.getProperty("#formContact","height")};o={w:gsap.getProperty("#formContact .contact_submit","width"),h:gsap.getProperty("#formContact .contact_submit","height")};n()}e();window.addEventListener("resize",()=>e());function l(){console.log("formReset");$("#email-form").css("display","block");clearInterval(t);t=null;r("block");$(".contact_submit_finish").css({position:"absolute",marginLeft:"10px",marginBottom:"15px"});$("#email-form input[type=email]").val("");$("#email-form input[type=text]").val("");$("#email-form #Content").val("")}function r(e){t=setInterval(()=>{if($("#email-form").css("display")!=e){$("#email-form").css("display",e)}console.log("intevalId")},60/1e3)}function c(){n();$("#email-form").css("display","none");clearInterval(t);t=null;r("none");$(".contact_submit_finish").css({position:"relative",margin:"0"});s=true;const e=gsap.timeline({});e.set(".contact_submit_finish .inner",{opacity:1,backgroundColor:"#BDFF00"});e.to(".contact_submit_finish .inner",.5,{backgroundColor:"#333",height:i.h,y:0,ease:BezierEasing(.6,0,.1,1),onComplete:()=>{l()}});setTimeout(()=>{a.play()},100)}a.onComplete=function(){s=false;gsap.to(".contact_submit_finish .inner",.55,{delay:.6,height:0,backgroundColor:"#BDFF00",ease:BezierEasing(.5,0,0,1),onComplete:()=>{a.goToAndStop(1,false);gsap.set(".contact_submit_finish .inner",{opacity:0});clearInterval(t);t=null}})};$("#email-form").submit(function(e){c()})};